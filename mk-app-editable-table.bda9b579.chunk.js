webpackJsonp([10],{1586:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,u=n(2),o=a(u),l=n(58),d=a(l),c=n(5),f=a(c),s=n(10),m=a(s),h=n(7),p=a(h),v=n(8),b=a(v),w=n(0),g=(a(w),n(273)),x=n(618),C=a(x),I=(i=(0,g.wrapper)(C.default))(r=function(e){function t(){return(0,f.default)(this,t),(0,p.default)(this,(t.__proto__||(0,d.default)(t)).apply(this,arguments))}return(0,b.default)(t,e),(0,m.default)(t,[{key:"render",value:function(){return this.props.monkeyKing((0,o.default)({},this.props,{path:"root"}))}}]),t}(w.Component))||r;t.default=I,e.exports=t.default},1587:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=new b.action(e),n=new _((0,u.default)({},e,{metaAction:t})),a=(0,u.default)({},t,n);return t.config({metaHandlers:a}),a}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),u=a(r),o=n(274),l=a(o),d=n(275),c=a(d),f=n(5),s=a(f);t.default=i;var m=n(0),h=a(m),p=n(13),v=a(p),b=n(273),w=n(605),g=a(w),x=n(180),C=n(80),I=n(9),y=a(I),_=function e(t){var n=this;(0,s.default)(this,e),this.onInit=function(e){var t=e.component,a=e.injections;n.component=t,n.injections=a,a.reduce("init"),n.load()},this.load=(0,c.default)(l.default.mark(function e(){var t;return l.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.webapi.editableTable.query();case 2:t=e.sent,n.injections.reduce("load",t);case 4:case"end":return e.stop()}},e,n)})),this.addrow=function(e){n.injections.reduce("addEmptyRow",e.rowIndex+1)},this.delrow=function(e){var t=n.metaAction.gf("data.list"),a=t.getIn([e.rowIndex,"id"]);n.injections.reduce("delrow",a)},this.isFocusCell=function(e,t){var a=n.metaAction.gf("data.other.focusCellInfo");return!!a&&(a.columnKey==t&&a.rowIndex==e.rowIndex)},this.nameChange=function(e){return function(t){n.metaAction.sf("data.list."+e.rowIndex+".name",t.target.value)}},this.mobileChange=function(e){return function(t){n.metaAction.sf("data.list."+e.rowIndex+".mobile",t)}},this.birthdayChange=function(e){return function(t){n.metaAction.sf("data.list."+e.rowIndex+".birthday",t)}},this.sexChange=function(e){return function(t){if(!t)return void n.metaAction.sf("data.list."+e.rowIndex+".sex",void 0);n.metaAction.sf("data.list."+e.rowIndex+".sex",0==t?(0,C.Map)({value:0,text:"男"}):(0,C.Map)({value:1,text:"女"}))}},this.cellClick=function(e,t){return function(a){a.stopPropagation(),n.metaAction.sf("data.other.focusCellInfo",{rowIndex:e.rowIndex,columnKey:t}),"name"==t?setTimeout(function(){v.default.findDOMNode(n.refName).focus()},0):"mobile"==t&&setTimeout(function(){v.default.findDOMNode(n.refMobile).focus()},0)}},this.cellGetter=function(e){return function(t){var a=n.metaAction.gf("data.list."+t.rowIndex+"."+e),i=a;return"birthday"==e?i=a?a.format("YYYY-MM-DD"):a:"sex"==e&&(i=a?a.get("text"):""),n.isFocusCell(t,e)?"name"==e?h.default.createElement(x.Input,{className:"mk-app-editable-table-cell",onChange:n.nameChange(t),value:a,ref:function(e){return n.refName=e}}):"mobile"==e?h.default.createElement(x.Input.Number,{className:"mk-app-editable-table-cell",onChange:n.mobileChange(t),value:a,ref:function(e){return n.refMobile=e}}):"birthday"==e?h.default.createElement(x.DatePicker,{className:"mk-app-editable-table-cell",onChange:n.birthdayChange(t),value:(0,y.default)(a)}):"sex"==e?h.default.createElement(x.Select,{className:"mk-app-editable-table-cell",allowClear:!0,onChange:n.sexChange(t),value:a?a.get("value")+"":void 0},h.default.createElement(Option,{value:"0"},"男"),h.default.createElement(Option,{value:"1"},"女")):void 0:h.default.createElement(x.DataGrid.TextCell,{onClick:n.cellClick(t,e),value:i})}},this.metaAction=t.metaAction,this.config=g.default.current,this.webapi=this.config.webapi};e.exports=t.default},1588:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=new c.reducer(e),n=new v((0,u.default)({},e,{metaReducer:t}));return(0,u.default)({},t,n)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),u=a(r),o=n(5),l=a(o);t.default=i;var d=n(80),c=n(273),f=n(605),s=a(f),m=n(619),h=n(9),p=a(h),v=function e(t){var n=this;(0,l.default)(this,e),this.init=function(e,t){var a=(0,m.getInitState)();return n.metaReducer.init(e,a)},this.load=function(e,t){return t.list.forEach(function(e){return e.birthday=(0,p.default)(e.birthday)}),n.metaReducer.sf(e,"data.list",(0,d.fromJS)(t.list))},this.addEmptyRow=function(e,t){var a=n.metaReducer.gf(e,"data.list");return a=a.insert(t,(0,d.Map)({id:a.size})),n.metaReducer.sf(e,"data.list",a)},this.delrow=function(e,t){var a=n.metaReducer.gf(e,"data.list"),i=a.findIndex(function(e){return e.get("id")==t});return-1==i?e:(a=a.remove(i),n.metaReducer.sf(e,"data.list",a))},this.metaReducer=t.metaReducer,this.config=s.default.current};e.exports=t.default}});